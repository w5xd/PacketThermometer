Version 4.1
SHEET 1 2004 680
WIRE 1008 -112 896 -112
WIRE -144 -80 -160 -80
WIRE 336 -80 -144 -80
WIRE 432 -80 336 -80
WIRE 896 -80 896 -112
WIRE 1408 -80 1296 -80
WIRE 1008 -64 1008 -112
WIRE -160 -48 -160 -80
WIRE 1408 -48 1408 -80
WIRE 1296 0 1296 -80
WIRE 96 16 32 16
WIRE 336 16 336 -16
WIRE 640 16 336 16
WIRE 736 16 640 16
WIRE 784 16 736 16
WIRE 32 48 32 16
WIRE 784 48 784 16
WIRE 1008 48 1008 0
WIRE 1008 48 848 48
WIRE 1088 48 1008 48
WIRE 1184 48 1088 48
WIRE -160 64 -160 32
WIRE 96 64 96 16
WIRE 160 64 96 64
WIRE 640 80 640 16
WIRE 1008 80 1008 48
WIRE 336 112 336 16
WIRE 1312 112 1296 112
WIRE 336 128 336 112
WIRE 32 160 32 128
WIRE 336 176 240 176
WIRE 736 176 736 16
WIRE 1232 176 736 176
WIRE 336 224 336 176
WIRE 1312 224 1312 112
WIRE 1344 224 1312 224
WIRE 160 256 160 176
WIRE 240 256 240 176
WIRE 1312 256 1312 224
WIRE 1312 256 1280 256
WIRE 272 272 272 112
WIRE 272 272 256 272
WIRE 256 304 256 272
WIRE 288 304 256 304
WIRE 336 336 336 320
WIRE 256 400 256 304
WIRE 432 400 432 -80
WIRE 432 400 256 400
FLAG 336 336 0
FLAG -160 64 0
FLAG 32 160 0
FLAG 640 160 0
FLAG 1008 144 0
FLAG 1408 32 0
FLAG 1232 272 0
FLAG 1344 304 0
FLAG 896 0 0
FLAG -144 -80 Charge
IOPIN -144 -80 Out
FLAG 1088 48 PortD3
SYMBOL cap 320 112 R0
WINDOW 3 32 51 Left 2
SYMATTR Value 22µF
SYMATTR InstName C2
SYMBOL diode 320 -80 R0
WINDOW 0 46 10 Left 2
SYMATTR InstName D2
SYMATTR Value BAT54
SYMBOL nmos 288 224 R0
SYMATTR InstName M1
SYMATTR Value BSS123
SYMBOL voltage -160 -64 R0
WINDOW 3 24 44 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 24 72 Left 2
SYMATTR Value PWL(0 3.3 .1 0)
SYMATTR SpiceLine Rser=1
SYMATTR InstName V1
SYMBOL voltage 32 32 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 124 Left 2
SYMATTR SpiceLine Rser=1
SYMATTR InstName V2
SYMATTR Value 3.3
SYMBOL DMP2305U 208 96 M180
WINDOW 3 -7 30 Top 2
SYMATTR InstName U1
SYMBOL res 624 64 R0
SYMATTR InstName R1
SYMATTR Value 3300000
SYMBOL cap 992 80 R0
SYMATTR InstName C1
SYMATTR Value 1µF
SYMBOL diode 992 -64 R0
WINDOW 0 46 10 Left 2
SYMATTR InstName D1
SYMATTR Value BAT54
SYMBOL diode 848 32 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D3
SYMATTR Value BAT54
SYMBOL voltage 1408 -64 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 3.3
SYMBOL DMP2305U 1248 32 R180
WINDOW 3 18 23 Top 2
SYMATTR InstName U2
SYMBOL nmos 1280 176 M0
SYMATTR InstName M3
SYMATTR Value BSS123
SYMBOL res 1328 208 R0
SYMATTR InstName R3
SYMATTR Value 1000000
SYMBOL res 256 240 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 1000
SYMBOL voltage 896 -96 R0
WINDOW 3 24 96 Invisible 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PWL(0 3.3 1 3.3 1.1 0)
SYMATTR InstName V4
TEXT -64 360 Left 2 !.tran 0 100 0 .1
TEXT -504 -128 Left 2 ;Battery Extender Circuit
TEXT 880 -144 Left 2 ;D3 port on Arduino is simulated by this V4+D1. Neither V4 nor D1 is on PCB
TEXT 880 -120 Left 2 ;Software holds +Vcc then switches to INPUT
